# Constitution: Todo App â€“ Phase II (Full-Stack Web)

## Purpose

This constitution defines the core principles, rules, and constraints for Phase II
of the Todo application. The goal is to evolve the Phase I console-based todo app
into a secure, multi-user, full-stack web application using **spec-driven development**.

## Core Principles

1. Spec-Driven Development First

   * No feature may be implemented without a written specification.
   * Gemini must generate all implementation code based on specs.
   * Manual coding is not allowed.

2. User-Centric Design

   * Each user must only access their own tasks.
   * **Authentication must be implemented using better auth** for all task operations (JWT + password hashing).

3. Separation of Concerns

   * Frontend handles UI and user interaction using **Next.js 16+ (App Router)**.
   * Backend handles business logic, data validation, and auth enforcement using **Python FastAPI**.
   * Database handles persistence using **Neon Serverless PostgreSQL** with **SQLModel ORM**.

4. Security by Default

   * All API endpoints require authentication.
   * Unauthorized access must return proper HTTP errors (401 / 403).
   * Users can only access their own tasks.

5. Persistence Over Memory

   * No in-memory task storage is allowed.
   * All tasks must be stored in the database.

6. Spec-Driven Implementation

   * All features must be generated using **Gemini Cli + Spec-Kit Plus**.
   * No manual coding of features is allowed.

## Scope of Phase II

Included:

* Full-stack web application
* REST API for todo operations
* **Authentication using better auth** (signup/signin, JWT, password hashing)
* Persistent storage using **Neon PostgreSQL**

Excluded:

* AI chatbot features
* Kubernetes deployment
* Kafka, Dapr, or event-driven features

## Success Criteria

Phase II is considered complete when:

* Users can sign up and sign in using **better authentication**
* Users can create, view, update, delete, and complete tasks
* Tasks persist after refresh or restart
* Users cannot access other users' tasks
* All functionality is implemented via specs

## Non-Negotiable Rules

* Specs are the source of truth
* Gemini must be used for implementation
* All features must pass spec acceptance criteria

